<header class="p-3 bg-success text-white sticky-top">
    <div class="row">
        <div class="col">
            <button class="menu-toggle" onclick="toggleSidebar()">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <div class="col">
            <div class="d-flex justify-content-center gap-3">
                <button class="mode-toggle1" onclick="toggleMode()">ðŸŒž</button>
                <a class="text-light text-decoration-none" href="/">Home</a>
                <a class="text-light text-decoration-none" href="/about">About</a>
                <a class="text-light text-decoration-none" href="/contact">Contact</a>
                {% if user.is_authenticated %}
                <a class="text-light text-decoration-none" href="/dashboard">Dashboard</a>
                <a class="text-light text-decoration-none" href="/logout">Logout</a>
                {% else %}
                <a class="text-light text-decoration-none" href="/register">Register</a>
                <a class="text-light text-decoration-none" href="/login">Login</a>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <button class="close-icon" onclick="toggleSidebar()">Ã—</button>
        <a href="/">Home</a>
        <a href="{% url 'profile' %}">Profile</a>
        <a href="/contact">Contact</a>
        <a href="#" onclick="menuItemClick('Services')">Services</a>
        <a href="/logout">Logout</a>
    </div>

    <div class="cursor-dotda" id="cursor-dot"></div>
    <div class="cursor-outlineda" id="cursor-outline"></div>

    <script>
        // Custom Cursor Animation
        const cursorDot = document.getElementById('cursor-dot');
        const cursorOutline = document.getElementById('cursor-outline');

        window.addEventListener('mousemove', function (e) {
            const posX = e.clientX;
            const posY = e.clientY;

            cursorDot.style.left = `${posX}px`;
            cursorDot.style.top = `${posY}px`;
            cursorOutline.style.left = `${posX}px`;
            cursorOutline.style.top = `${posY}px`;

            cursorOutline.animate([{ left: `${posX}px`, top: `${posY}px` }], {
                duration: 500,
                fill: "forwards"
            });
        });

        // Toggle Sidebar Menu
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const menuToggle = document.querySelector('.menu-toggle');
            const content = document.querySelector('.content');

            sidebar.classList.toggle('open');
            content.classList.toggle('active');
            menuToggle.classList.toggle('active');
        }

        // Handle Sidebar Menu Clicks
        function menuItemClick(menuItem) {
            alert("You clicked: " + menuItem);
        }

        // Toggle Light/Dark Mode
        function toggleMode() {
            const body = document.body;
            const modeToggle = document.querySelector('.mode-toggle1'); // Fixed class name

            body.classList.toggle('dark-mode');

            // Update button text based on mode
            if (body.classList.contains('dark-mode')) {
                modeToggle.textContent = 'ðŸŒ™'; // Dark mode active
                localStorage.setItem('dark-mode', 'true');
            } else {
                modeToggle.textContent = 'ðŸŒž'; // Light mode active
                localStorage.setItem('dark-mode', 'false');
            }
        }

        // Load stored mode preference on page load
        window.onload = function () {
            if (localStorage.getItem('dark-mode') === 'true') {
                document.body.classList.add('dark-mode');
                document.querySelector('.mode-toggle1').textContent = 'ðŸŒ™';
            }
        };
    </script>
</header>
